---
import { Icon } from 'astro-icon/components';
import { MODAL_ID } from './common';
export interface Props {
	icon: string;
	text: string;
}
const { text, icon } = Astro.props;
---

<div class="container-hover">
	<div class="container-border">
		<div class="container-transparent">
			<label for={MODAL_ID} class="button" title="Where to buy">
				<Icon name={icon} />
				{text}
			</label>
		</div>
	</div>
</div>
<style lang="scss">
	@use '~styles/_variables.scss' as v;
	@use '~styles/_mixins.scss' as m;
	%octagon {
		clip-path: polygon(
			0 10%,
			5% 0,
			95% 0,
			100% 10%,
			100% 90%,
			90% 110%,
			10% 110%,
			0% 90%,
			0% 10%
		);
	}

	.button {
		@extend %octagon;

		appearance: none;
		color: white;
		border: 0;
		text-align: center;
		position: relative;
		z-index: 10;
		font-size: 1.3rem;
		font-weight: bold;
		font-family: v.$font-family-headings;
		background: v.$color-button;
		padding: 0.5rem 1rem;
		display: flex;
		align-items: center;
		justify-content: center;
		line-height: 1.1;
		cursor: pointer;
	}

	/** Try the notched thing */
	.container-transparent {
		@extend %octagon;

		background: v.$color-parchment;
		background-image: v.$parchment-background;
		width: fit-content;
		padding: 2px;
		cursor: pointer;
	}

	.container-border {
		@extend %octagon;

		background: v.$color-button;
		width: fit-content;
		padding: 3px;
		cursor: pointer;
	}

	.container-hover {
		display: block;
		text-decoration: none;
		width: fit-content;
		transition:
			filter v.$transition-speed-normal v.$transition-timing,
			opacity v.$transition-speed-fast linear;
		opacity: v.$opacity-parchment;
		filter: drop-shadow(0 1px 1px v.$color-button);

		&:hover {
			filter: drop-shadow(0 1px 4px v.$color-button);
		}

		&:active {
			opacity: v.$opacity-parchment + 0.2;
		}
	}

	[data-icon='mdi:cart'] {
		height: 1.3rem;
		padding: 0 0.4rem 0 0;
	}

	.btn {
		cursor: pointer;
		background: #27ae60;
		display: inline-block;
		padding: 0.5em 1em;
		color: #fff;
		border-radius: 3px;
	}

	.btn:hover,
	.btn:focus {
		background: #2ecc71;
	}

	.btn:active {
		background: #27ae60;
		box-shadow: 0 1px 2px rgba(0 0 0 / 20%) inset;
	}
</style>
