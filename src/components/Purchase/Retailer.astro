---
import { Image } from '@astrojs/image/components';
export interface Props {
	name: string;
	url: string;
	image: string;
}

const { name, url, image } = Astro.props;
const retailerImage = await import(
	`../../assets/retailers/${image.replace(/\.[^/.]+$/, '')}.png`
);
---

<a href={url} class="retailer-link">
	<Image
		src={retailerImage.default}
		alt={name}
		width={200}
		class="retailer-image"
		fit={'cover'}
		position="center"
	/>
</a>
<style lang="scss">
	.retailer-link {
		display: block;
		padding: 1rem;
		border: 1px solid v.$color-button;
		box-shadow: 0 0 2px 1px v.$color-shadow;
		display: flex;
		justify-content: center;
		align-items: center;
		aspect-ratio: 1/1;
		transition: box-shadow v.$transition-speed-fast v.$transition-timing;
		border-radius: v.$border-radius;

		@include m.media('>phone') {
			padding: 1.5rem;
		}
		@include m.media('>tablet') {
			padding: 2rem;
		}

		&:hover {
			box-shadow: 0 0 2px 1px v.$color-shadow, 0 0 5px v.$color-shadow;
		}
	}
	.retailer-image {
		mix-blend-mode: multiply;
		max-width: 100%;
		height: auto;
	}
</style>
