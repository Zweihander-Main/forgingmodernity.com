---
import Global from '@layouts/Global.astro';
import Map from '@components/Map/index.svelte';
import { getCollection, getEntryBySlug } from 'astro:content';
export type Props = Record<string, never>;

const metaEntry = await getEntryBySlug('meta', 'site');
const { shortTitle } = metaEntry.data;
const pageTitle = 'Map';

const canals = await getCollection('canals');
---

<Global title={`${shortTitle} | ${pageTitle}`}>
	<Map canals={canals} client:load />
</Global>

<style lang="scss">
	// Get around Astro-Svelte-SCSS bug
	@import 'leaflet/dist/leaflet';
</style>
